判断是否2的n次幂对齐

```c
#define IS_ALIGNED(x, a)		(((x) & ((typeof(x))(a) - 1)) == 0)
```

x 要判断的数

a 2的n次幂

如果x是2的n次幂a对齐，为真，否则为假。



1. (typeof(x))(a) - 1

   将数值a的类型转换成和数值x相同的类型，然后减1

   由于a是2的n次幂，减1之后低位全部变为1

   例如a为8，二进制就是0b1000，减1后变为0b0111

2. (x) & ((typeof(x))(a) - 1)

   将数值x与第一步的数值相与，高位数值将会变为0，如果x是以2的n次幂对齐，那么低位会为0，如果不以2的n次幂对齐，那么低位不为0。

   例如上一步a为8，假设x为16，二进制就是0b10000，与上一步算出的数值0b0111相与，就会为0。假设x为18，二进制就是0b10010，与数值0b0111相与，就会为0b10，不为0。

3. (((x) & ((typeof(x))(a) - 1)) == 0)

   判断是否==0，如果等于0，表示是2的n次幂对齐，否则就不是。

