描述
C 库函数 FILE *fopen(const char *filename, const char *mode) 使用给定的模式 mode 打开 filename 所指向的文件。
声明
下面是 fopen() 函数的声明。
FILE *fopen(const char *filename, const char *mode)
参数
filename -- 这是 C 字符串，包含了要打开的文件名称。
mode -- 这是 C 字符串，包含了文件访问模式，模式如下：
模式
描述
"r" 
打开一个用于读取的文件。该文件必须存在。
"w" 
创建一个用于写入的空文件。如果文件名称与已存在的文件相同，则会删除已有文件的内容，文件被视为一个新的空文件。
"a" 
追加到一个文件。写操作向文件末尾追加数据。如果文件不存在，则创建文件。
"r+" 
打开一个用于更新的文件，可读取也可写入。该文件必须存在。
"w+" 
创建一个用于读写的空文件。
"a+" 
打开一个用于读取和追加的文件。
返回值
该函数返回一个 FILE 指针。否则返回 NULL，且设置全局变量 errno 来标识错误。


mode 有下列几种形态字符串: 
r 以只读方式打开文件，该文件必须存在。 
r+ 以可读写方式打开文件，该文件必须存在。 
rb+ 读写打开一个二进制文件，允许读数据。 
rw+ 读写打开一个文本文件，允许读和写。 
w 打开只写文件，若文件存在则文件长度清为0，即该文件内容会消失。若文件不存在则建立该文件。 
w+ 打开可读写文件，若文件存在则文件长度清为零，即该文件内容会消失。若文件不存在则建立该文件。 
a 以附加的方式打开只写文件。若文件不存在，则会建立该文件，如果文件存在，写入的数据会被加到文件尾，即文件原先的内容会被保留。（EOF符保留） 
a+ 以附加方式打开可读写的文件。若文件不存在，则会建立该文件，如果文件存在，写入的数据会被加到文件尾后，即文件原先的内容会被保留。 （原来的EOF符不保留） 
wb 只写打开或新建一个二进制文件；只允许写数据。 
wb+ 读写打开或建立一个二进制文件，允许读和写。 
ab+ 读写打开一个二进制文件，允许读或在文件末追加数据。 
at+ 打开一个叫string的文件，a表示append,就是说写入处理的时候是接着原来文件已有内容写入，不是从头写入覆盖掉，t表示打开文件的类型是文本文件，+号表示对文件既可以读也可以写。
上述的形态字符串都可以再加一个b字符，如rb、w+b或ab+等组合，加入b 字符用来告诉函数库以二进制模式打开文件。如果不加b，表示默认加了t，即rt,wt,其中t表示以文本模式打开文件。由fopen()所建立的新文件会具有S_IRUSR|S_IWUSR|S_IRGRP|S_IWGRP|S_IROTH|S_IWOTH(0666)权限，此文件权限也会参考umask 值。
有些C编译系统可能不完全提供所有这些功能，有的C版本不用"r+","w+","a+",而用"rw","wr","ar"等，读者注意所用系统的规定。


二进制和文本模式的区别
1.在windows系统中，文本模式下，文件以"\r\n"代表换行。若以文本模式打开文件，并用fputs等函数写入换行符"\n"时，函数会自动在"\n"前面加上"\r"。即实际写入文件的是"\r\n" 。
2.在类Unix/Linux系统中文本模式下，文件以"\n"代表换行。所以Linux系统中在文本模式和二进制模式下并无区别。