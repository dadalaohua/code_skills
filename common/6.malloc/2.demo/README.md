思路如下:
将内存分块管理.
内存池等分为固定大小的内存块.
建立一个内存状态表,对应每个块,有多少个块,状态表就有多少个元素,一一对应.
通过状态表的值判断该块内存是否可用(为0则表示可用,为其他值则表示被占用了,而且占用的内存块数量,就是该值的数字)

初始化的时候,状态表的值全0，代表所有的内存块都未被占用.当需要分配的时候,malloc从内存块的最高地址往下查找,查找到连续的空内存大于等于要分配的内存的时候,结束此次分配,返回地址给要分配的指针,完成一次malloc. free的时候,就比较简单了,只要找到所分配的内存对应在状态表的位置,然后把状态表的值清0，及实现free.

内存使用率则通过查询状态表有多少个非0值,来计算占用率.